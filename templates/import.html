{% extends "base.html" %}

{% block title %}CSVインポート{% endblock %}
{% block header_title %}CSVインポート{% endblock %}

{% block content %}
<div class="page-header">
    <h1>CSVインポート</h1>
</div>

<div class="content-card">
    <div class="content-card-header">
        <h2>商品データをインポート</h2>
    </div>
    <div class="content-card-body">
        <p style="color: #666; margin-bottom: 16px;">
            CSVファイルから商品データをインポートします。以下のカラムに対応しています：
        </p>

        <div
            style="background: #f5f5f5; padding: 12px 16px; border-radius: 6px; margin-bottom: 20px; font-family: monospace; font-size: 0.9em;">
            title（必須）, price, url, sku
        </div>

        <form action="{{ url_for('import.import_csv') }}" method="POST" enctype="multipart/form-data">
            <div class="form-group" style="margin-bottom: 16px;">
                <label for="file">CSVファイル</label>
                <input type="file" id="file" name="file" accept=".csv" required
                    style="padding: 12px; border: 2px dashed #ddd; border-radius: 8px; width: 100%;">
            </div>

            <div class="form-group" style="margin-bottom: 16px;">
                <label for="shop_id">インポート先ショップ</label>
                <select id="shop_id" name="shop_id">
                    <option value="">(未選択)</option>
                    {% for shop in all_shops %}
                    <option value="{{ shop.id }}">{{ shop.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group" style="margin-bottom: 16px;">
                <label for="site">サイト区分</label>
                <select id="site" name="site">
                    <option value="import">インポート</option>
                    <option value="mercari">メルカリ</option>
                    <option value="yahoo">Yahoo</option>
                    <option value="rakuma">ラクマ</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary"
                style="background: #1976d2; color: white; padding: 12px 24px;">
                インポート実行
            </button>
        </form>
    </div>
</div>

<div class="content-card" style="margin-top: 24px;">
    <div class="content-card-header">
        <h2>CSVサンプル</h2>
    </div>
    <div class="content-card-body">
        <p style="color: #666; margin-bottom: 12px;">以下の形式でCSVを準備してください：</p>
        <pre style="background: #f5f5f5; padding: 16px; border-radius: 8px; overflow-x: auto;">title,price,url,sku
サンプル商品1,1980,https://example.com/1,SKU-001
サンプル商品2,2980,https://example.com/2,SKU-002</pre>
    </div>
</div>
{% endblock %}