# UI/UX改善提案集 (UI/UX Improvement Proposals)

本書はESPのUI/UX改善案を整理した提案書です。現行実装の詳細を完全に把握できていない箇所は仮説として記載し、検証観点を併記しています。

補足: 以降の「モバイルブレークポイント」は、既存のスタイルシートで定義済みのブレークポイントに合わせる前提です。

---

## 提案1: 商品一覧テーブルのモバイル可読性を改善（情報密度の再構成）

1) **Findings（何が問題か）**
- 商品一覧テーブルは列数が多く、モバイルでは横スクロール前提になる（既存のレスポンシブ分析結果より）。
- 重要度の低い列も常時表示されるため、主要情報（商品名・価格・ステータス）が埋もれる可能性がある。

2) **Impact（誰に/何に影響か）**
- モバイル利用者の検索・確認速度が低下し、誤操作や離脱が起きやすい。
- 200%ズーム時に主要操作ボタンが見つけづらくなる可能性。

3) **Recommendations（優先度順：P0/P1/P2）**
- **P0**: モバイルブレークポイント以下で重要度の低い列を非表示にし、主要列のみ表示する。
- **P1**: 「詳細」リンクを固定位置へ移動し、行内の操作導線を短縮する。
- **P2**: 代替表示としてカード形式レイアウトを導入（任意）。

4) **Acceptance Criteria（受け入れ条件）**
- モバイルブレークポイント以下で、主要情報（商品名・価格・ステータス・操作）が水平スクロール無しで閲覧できる。
- 200%ズームでも主要操作が視認・操作可能。
- 非表示列の代替情報が詳細ページで確認できる。

5) **Verification（検証手順/計測）**
- DevToolsのモバイル幅で列の表示/非表示を確認。
- 200%ズーム時に操作導線が見切れないことを確認。
- 操作完了時間（商品詳細への遷移）を現状比で計測（任意）。

6) **Implementation Notes（実装メモ）**
- 列の表示制御は `.hide-mobile` を優先し、必要な列に明示的なクラスを付与する。
- 列の優先順位は、業務頻度の高い項目（商品名・価格・ステータス）を最上位にする。

---

## 提案2: バリエーション編集の視認性/操作性改善（カード化 or 折りたたみ）

1) **Findings（何が問題か）**
- 商品詳細のバリエーションテーブルは列数が多く、小画面では情報が詰まる。
- 必須フィールドと補助情報（税、HSコードなど）が同一階層で表示され、視線移動が増える。

2) **Impact（誰に/何に影響か）**
- 編集ミス・入力抜けの原因となる。
- 新規オペレーターの学習負荷が高い。

3) **Recommendations（優先度順：P0/P1/P2）**
- **P0**: モバイルではカード形式に切り替え、項目を縦方向に整理する。
- **P1**: 重要度の低い項目（税、HS、Origin）を折りたたみ（details/summary）で段階表示。
- **P2**: カード内で「必須/任意」を明示し、入力漏れを低減する。

4) **Acceptance Criteria（受け入れ条件）**
- モバイルブレークポイント以下でカード表示に切り替わり、横スクロール無しで編集できる。
- 折りたたみを開いた状態でもフォーカスが視認可能。
- 必須/任意が各フィールドに明示される。

5) **Verification（検証手順/計測）**
- 実機/エミュレータでカード表示を確認。
- Tab操作で全フィールドに到達できることを確認。
- 1件のバリエーション編集完了時間を計測（任意）。

6) **Implementation Notes（実装メモ）**
- CSSのブレークポイントで `.variant-table` をカードスタイルに切り替える。
- `details` 要素を使う場合は、`summary` の文言だけで状態が伝わるようにし、開閉時のフォーカス復帰（開いたら内部、閉じたらsummary）に注意する。カスタムトグルに置き換える場合は `aria-expanded` などで状態を明示する。

---

## 提案3: エクスポート設定フォームの分割（フォーム摩擦低減）

1) **Findings（何が問題か）**
- 商品一覧のエクスポート設定に多数の入力項目が並び、縦長になりがち。
- 初期設定と詳細設定が同一面に並ぶため、理解コストが高い。

2) **Impact（誰に/何に影響か）**
- 入力負担が増え、設定ミスや離脱につながる可能性。
- 初回利用者にとって目的の設定が見つけづらい。

3) **Recommendations（優先度順：P0/P1/P2）**
- **P0**: 「基本設定/詳細設定」を `details` で分割し、初期表示は基本のみ。
- **P1**: 必須/任意をラベルで明示し、デフォルト値を積極的に表示。
- **P2**: 入力検証はOn Blurに寄せ、エラー文は修正方法を含める。

4) **Acceptance Criteria（受け入れ条件）**
- 初期表示で主要な設定が6〜8項目以内に収まる。
- 必須/任意表示が全項目に付与される。
- エラー文に具体例が含まれる（例: 「0.8〜2.0の範囲で入力」）。

5) **Verification（検証手順/計測）**
- 既存の入力項目を抽出し、表示/非表示の切り替えを確認。
- On Blurでエラー表示されるかをチェック。
- 設定完了までの時間を計測（任意）。

6) **Implementation Notes（実装メモ）**
- 既存のフォーム構造を変えずに `details/summary` で段階的に整理するのが最小変更。
- 既存のバリデーションがあれば、イベントを変更せず表示タイミングのみ調整する。

---

## 提案4: 入力フィールドのフォントサイズ最適化（iOSズーム防止）

1) **Findings（何が問題か）**
- 一部の入力フィールドが15px前後の場合、iOS Safariで自動ズームが発生しうる。
- 既存のレスポンシブ分析でも指摘済み。

2) **Impact（誰に/何に影響か）**
- モバイル操作時に画面が意図せず拡大し、入力フローが中断される。

3) **Recommendations（優先度順：P0/P1/P2）**
- **P0**: フォーム入力のフォントサイズを計算後16px以上に統一（iOSの自動ズーム回避）。
- **P1**: 入力欄の高さを維持し、タップターゲットサイズを確保。
- **P2**: 重要フォーム（ログイン/登録）から先行適用し、段階的に全体展開。

4) **Acceptance Criteria（受け入れ条件）**
- iOS Safariで入力時の自動ズームが発生しない。
- フォームの可読性とタップ領域が維持される。

5) **Verification（検証手順/計測）**
- iOS Safariでの入力を確認（実機またはエミュレータ）。
- 主要フォームの入力フローでズームが発生しないことを確認。

6) **Implementation Notes（実装メモ）**
- `input/select/textarea` の計算後 `font-size` を16px以上に統一する変更で対応可能。
- 既存の行間・paddingが崩れないか確認する。

---

## 提案5: アクセシビリティ基準線の強化（フォーカス/必須表示/エラー文）

1) **Findings（何が問題か）**
- 主要フォームで必須/任意の明示が一部不足している可能性（仮説）。
- エラー文が「何を直すか」にフォーカスしていない可能性がある。

2) **Impact（誰に/何に影響か）**
- 入力ミスの修正に時間がかかり、完了率が低下する。
- 支援技術利用者にとって操作完結が難しくなる。

3) **Recommendations（優先度順：P0/P1/P2）**
- **P0**: すべてのフォーム項目で必須/任意表示をラベルに追加。
- **P1**: エラー文に具体的な修正方法（例示）を含める。
- **P2**: エラー発生時に該当フィールドへフォーカス移動する。

4) **Acceptance Criteria（受け入れ条件）**
- 主要フォーム（ログイン/登録/商品編集）で必須/任意が明示される。
- エラー文が「理由+修正方法」を含む。
- キーボード操作だけでエラー箇所に到達可能。

5) **Verification（検証手順/計測）**
- Tab操作で必須項目へ順にアクセスできることを確認。
- エラー発生時に具体的な修正文言が表示されることを確認。
- 200%ズームでも操作不能がないことを確認。

6) **Implementation Notes（実装メモ）**
- 既存ラベルに「(必須)/(任意)」を付与するのみで効果が高い。
- エラーメッセージのテンプレート化を検討（再利用性向上）。

---

## 参考: 検証環境の例
- デバイス: 小型/標準/大型のiPhone相当、Android小型(360px相当)、タブレット(768px相当)
- ブラウザ: Safari (iOS)、Chrome (iOS/Android)
- 確認観点: 200%ズーム、Tab操作、エラー文、主要導線の視認性
